<?php declare(strict_types = 1);

require_once __DIR__ . '/../vendor/autoload.php';

$app = new \Symfony\Component\Console\Application();

$app->add(
	new class () extends \Symfony\Component\Console\Command\Command
	{
		protected function configure(): void
		{
			parent::configure(); // TODO: Change the autogenerated stub
			
			$this->setName('dummy');
		}
		
		protected function execute(
			\Symfony\Component\Console\Input\InputInterface $input,
			\Symfony\Component\Console\Output\OutputInterface $output
		): void
		{
			$output->writeln(\get_class($output));
			
			$output->writeln('Some fancy text');
			
			$progressBar = new \Luky\Console\FancyProgressBar($output, $this->getName());
			$progressBar->setPrecision(2);
			$progressBar->setMaxSteps(3000);
			
			for ($i = 0; $i <= 3000; $i++) {
				
				$progressBar->advance();
			}
			
			$progressBar->finish();
		}
	}
);

exit($app->run());
